<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Legal-Guard - 试用生成一份合同</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" />
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            gold: '#D4AF37',
            dark: '#121212',
            darkgray: '#1E1E1E',
            lightgray: '#2D2D2D',
          },
          fontFamily: { sans: ['Inter', 'system-ui', 'sans-serif'] },
        },
      },
    };
  </script>
</head>
<body class="bg-dark text-white font-sans min-h-screen">
  <!-- 顶部导航（简版，可返回首页） -->
  <nav class="bg-darkgray/90 border-b border-gold/20 sticky top-0 z-40">
    <div class="max-w-7xl mx-auto px-6 py-3 flex items-center justify-between">
      <div class="flex items-center gap-2">
        <i class="fa-solid fa-shield-halved text-gold text-xl"></i>
        <span class="font-bold text-lg text-gold">Legal-Guard</span>
        <span class="ml-3 text-sm text-white/60">试用 · 生成一份合同</span>
      </div>
      <a href="demo.html" class="text-sm text-white/70 hover:text-gold transition-colors">返回首页</a>
    </div>
  </nav>

  <!-- 顶部通知条 -->
  <div class="bg-orange-500 text白 text-sm font-medium px-6 py-2 text-center font-bold">
    免费试用合同有效期 7 天
  </div>

  <div class="max-w-7xl mx-auto px-6 py-8 flex gap-6">
    <!-- 左侧固定导航栏 -->
    <aside class="w-64 bg-darkgray rounded-xl p-4 flex flex-col gap-6 sticky top-20 h-[70vh]">
      <div class="flex items-center gap-2">
        <i class="fa-solid fa-shield-halved text-gold text-xl"></i>
        <span class="text-lg font-semibold text-gold">Legal-Guard</span>
      </div>
      <nav class="flex-1">
        <ul class="space-y-2 text-white/70 text-sm">
          <li id="nav-step-1" class="p-2 rounded-md cursor-pointer">1 · 基础信息</li>
          <li id="nav-step-2" class="p-2 rounded-md cursor-pointer">2 · 条款选择</li>
          <li id="nav-step-3" class="p-2 rounded-md cursor-pointer">3 · 合同预览</li>
          <li id="nav-step-4" class="p-2 rounded-md cursor-pointer">4 · 生成合同</li>
        </ul>
      </nav>
      <div class="flex flex-col gap-2 text-sm">
        <button class="px-3 py-2 bg-lightgray rounded-md text-white/90 text-left"><i class="fa-regular fa-circle-question mr-1"></i> 帮助</button>
        <button class="px-3 py-2 bg-gold text-dark rounded-md text-left font-medium"><i class="fa-solid fa-headset mr-1"></i> 联系客服</button>
      </div>
    </aside>

    <!-- 中央主区域 -->
    <main class="flex-1 bg-gradient-to-br from-dark to-darkgray rounded-xl p-6 relative">
      <!-- 顶部进度指示器 + 模板选择器 -->
      <div class="flex items-center justify-between mb-5">
        <div class="flex items-center gap-4">
          <div class="text-sm text-white/60">步骤 <span id="step-label" class="font-semibold">2</span>/4</div>
          <div class="w-56 bg-white/10 rounded-full h-2 overflow-hidden">
            <div id="step-progress" class="h-2 bg-gold rounded-full" style="width:50%"></div>
          </div>
        </div>
        <div class="flex items-center gap-2 text-sm">
          <label for="template-select" class="text-white/70">模板：</label>
          <select id="template-select" class="bg-dark text-white rounded-md px-3 py-2 text-sm border border-white/10">
            <option value="standard">标准模板</option>
            <option value="custom">定制模板</option>
          </select>
        </div>
      </div>

      <!-- 步骤内容区 -->
      <div class="min-h-[52vh]">
        <!-- 步骤1：基础信息 -->
        <section id="step1" class="hidden">
          <h2 class="text-xl font-semibold text-gold mb-4">基础信息</h2>
          <div class="grid grid-cols-2 gap-6 text-sm">
            <div>
              <label for="company" class="block text白/70 mb-1">公司名称</label>
              <input id="company" class="w-full px-3 py-2 rounded-md bg-dark text-white border border-transparent focus:border-red-500" placeholder="请输入公司营业主体全称" />
              <p id="err-company" class="mt-1 text-xs text-red-400 hidden">公司名称为必填项</p>
            </div>
            <div>
              <label for="jurisdiction" class="block text白/70 mb-1">适用法域</label>
              <select id="jurisdiction" class="w-full px-3 py-2 rounded-md bg-dark text-white border border-white/10">
                <option value="CN">中国（CN）</option>
                <option value="US">美国（US）</option>
                <option value="UK">英国（UK）</option>
                <option value="EU">欧盟（EU）</option>
              </select>
            </div>
            <div>
              <label for="counterparty" class="block text白/70 mb-1">相对方名称</label>
              <input id="counterparty" class="w-full px-3 py-2 rounded-md bg-dark text-white border border-white/10" placeholder="请输入合作方公司名称" />
            </div>
            <div>
              <label for="contract-type" class="block text白/70 mb-1">合同类型</label>
              <select id="contract-type" class="w-full px-3 py-2 rounded-md bg-dark text-white border border-white/10">
                <option value="saas">SaaS 服务协议</option>
                <option value="distribution">分销合作协议</option>
                <option value="nda">保密协议（NDA）</option>
              </select>
            </div>
          </div>
        </section>

        <!-- 步骤2：条款选择 -->
        <section id="step2">
          <h2 class="text-xl font-semibold text-gold mb-2">条款选择</h2>
          <p class="text-sm text-white/70 mb-4">根据业务场景，选择需要纳入合同的条款，可一键全选或逐项勾选。</p>
          <div class="flex items-center justify-between mb-3 text-sm">
            <div class="text-white/70">条款选择支持「全选 / 自定义」模式切换。</div>
            <label class="inline-flex items-center gap-2 text-white/70">
              <input id="select-all" type="checkbox" class="h-4 w-4 text-gold" /> 全选 / 自定义
            </label>
          </div>

          <!-- 折叠面板：基础条款 -->
          <div class="mb-4 bg-dark rounded-lg border border-white/10">
            <button data-panel="base" class="w-full flex items-center justify-between px-4 py-2 text-left">
              <span class="text-gold font-medium text-sm">基础条款</span>
              <i class="fa-solid fa-chevron-down text-white/60 text-xs"></i>
            </button>
            <div data-body="base" class="px-4 pb-2 pt-1 text-sm">
              <label class="flex items-center gap-2 py-1"><input type="checkbox" class="term" value="payment" /> 支付条款</label>
              <label class="flex items-center gap-2 py-1"><input type="checkbox" class="term" value="delivery" /> 交付条款</label>
              <label class="flex items-center gap-2 py-1"><input type="checkbox" class="term" value="warranty" /> 质量保证</label>
            </div>
          </div>

          <!-- 折叠面板：数据安全条款 -->
          <div class="mb-4 bg-dark rounded-lg border border-white/10">
            <button data-panel="data" class="w-full flex items-center justify-between px-4 py-2 text-left">
              <span class="text-gold font-medium text-sm">数据安全条款</span>
              <i class="fa-solid fa-chevron-down text-white/60 text-xs"></i>
            </button>
            <div data-body="data" class="px-4 pb-2 pt-1 text-sm hidden">
              <label class="flex items-center gap-2 py-1"><input type="checkbox" class="term" value="encryption" /> 数据加密</label>
              <label class="flex items-center gap-2 py-1"><input type="checkbox" class="term" value="backup" /> 数据备份</label>
              <label class="flex items-center gap-2 py-1"><input type="checkbox" class="term" value="privacy" /> 隐私保护</label>
            </div>
          </div>

          <!-- 折叠面板：服务范围条款 -->
          <div class="mb-4 bg-dark rounded-lg border border-white/10">
            <button data-panel="scope" class="w-full flex items-center justify-between px-4 py-2 text-left">
              <span class="text-gold font-medium text-sm">服务范围条款</span>
              <i class="fa-solid fa-chevron-down text-white/60 text-xs"></i>
            </button>
            <div data-body="scope" class="px-4 pb-2 pt-1 text-sm hidden">
              <label class="flex items-center gap-2 py-1"><input type="checkbox" class="term" value="support" /> 技术支持</label>
              <label class="flex items-center gap-2 py-1"><input type="checkbox" class="term" value="sla" /> 服务级别（SLA）</label>
              <label class="flex items-center gap-2 py-1"><input type="checkbox" class="term" value="training" /> 培训服务</label>
            </div>
          </div>
        </section>

        <!-- 步骤3：合同预览 -->
        <section id="step3" class="hidden">
          <h2 class="text-xl font-semibold text-gold mb-4">合同预览</h2>
          <div class="bg-white text-dark rounded-lg p-4 min-h-[40vh] flex flex-col">
            <div class="flex items-center justify-between mb-3 text-xs text-dark/60">
              <span>页码 1 / 1</span>
              <div class="flex items-center gap-2">
                <button id="zoom-out" class="px-2 py-1 bg-gray-100 rounded border border-gray-300 text-xs">-</button>
                <button id="zoom-in" class="px-2 py-1 bg-gray-100 rounded border border-gray-300 text-xs">+</button>
              </div>
            </div>
            <div id="preview" class="flex-1 text-sm leading-relaxed overflow-auto" style="zoom:100%">
              <h3 class="font-semibold mb-2">《服务协议（试用版）》</h3>
              <p class="mb-2">本合同为示例预览，将根据您填写的基础信息与所选条款生成。</p>
              <p class="text-xs text-gray-500">（此处可接入真实合同生成内容）</p>
            </div>
          </div>
        </section>

        <!-- 步骤4：生成合同 -->
        <section id="step4" class="hidden text-center">
          <h2 class="text-xl font-semibold text-gold mb-4">生成合同</h2>
          <p class="text-white/70 text-sm mb-6">试用合同已生成，您可以选择下载或稍后在控制台中继续查看与编辑。</p>
          <div class="flex justify-center gap-4">
            <button class="px-5 py-2 bg-gold text-dark rounded-md text-sm font-medium">下载 PDF</button>
            <button class="px-5 py-2 bg-lightgray text-white rounded-md text-sm">保存为草稿</button>
          </div>
        </section>
      </div>
    </main>

    <!-- 右侧智能提示面板 -->
    <aside class="w-80 bg-darkgray rounded-xl p-4 sticky top-20 h-[70vh] flex flex-col">
      <div class="flex items-center justify-between mb-2">
        <h3 class="text-sm text白/80">智能提示</h3>
        <button id="hint-toggle" class="text-xs text白/60">?</button>
      </div>
      <div id="hint-body" class="text-xs text白/70 leading-relaxed flex-1">
        根据您填写的行业、法域和业务类型，我们将推荐常见的关键条款组合，帮助您在保证合规的前提下，尽量降低交易风险。
      </div>
    </aside>
  </div>

  <!-- 底部悬浮操作栏 -->
  <div class="fixed left-1/2 -translate-x-1/2 bottom-4 w-[min(960px,94%)]">
    <div class="bg-darkgray/95 border border-white/10 rounded-2xl px-4 py-3 flex items-center justify-between shadow-2xl">
      <div class="flex items-center gap-3 text-xs text白/70">
        <button id="save-draft" class="px-3 py-1.5 bg-lightgray rounded-md text白/90">保存草稿</button>
        <span class="hidden sm:inline">试用期间生成的合同将自动加密存储，仅您和授权成员可见。</span>
      </div>
      <div class="flex items-center gap-2 text-sm">
        <button id="prev" class="px-4 py-1.5 rounded-md bg-white/10 text白/80">上一步</button>
        <button id="next" class="px-4 py-1.5 rounded-md bg-gold text-dark font-medium">下一步</button>
      </div>
    </div>
  </div>

  <script>
    (function () {
      const steps = [
        document.getElementById('step1'),
        document.getElementById('step2'),
        document.getElementById('step3'),
        document.getElementById('step4'),
      ];
      const navs = [
        document.getElementById('nav-step-1'),
        document.getElementById('nav-step-2'),
        document.getElementById('nav-step-3'),
        document.getElementById('nav-step-4'),
      ];
      const stepLabel = document.getElementById('step-label');
      const progress = document.getElementById('step-progress');
      const prevBtn = document.getElementById('prev');
      const nextBtn = document.getElementById('next');
      let current = 1; // 默认打开条款选择（2），但我们可以从 1 开始更自然

      function goTo(step) {
        current = step;
        steps.forEach((el, idx) => {
          if (!el) return;
          el.classList.toggle('hidden', idx !== step - 1);
        });
        navs.forEach((el, idx) => {
          if (!el) return;
          el.classList.toggle('bg-gold/10', idx === step - 1);
          el.classList.toggle('text-gold', idx === step - 1);
        });
        stepLabel.textContent = step;
        progress.style.width = ((step - 1) / 3) * 100 + '%';
        prevBtn.style.display = step === 1 ? 'none' : 'inline-flex';
        if (step === 3) {
          nextBtn.textContent = '生成合同';
        } else if (step === 4) {
          nextBtn.style.display = 'none';
        } else {
          nextBtn.textContent = '下一步';
          nextBtn.style.display = 'inline-flex';
        }
      }

      navs.forEach((el, idx) => {
        if (!el) return;
        el.addEventListener('click', () => goTo(idx + 1));
      });
      prevBtn.addEventListener('click', () => {
        if (current > 1) goTo(current - 1);
      });
      nextBtn.addEventListener('click', () => {
        if (current === 1) {
          const company = document.getElementById('company');
          const err = document.getElementById('err-company');
          if (company && company.value.trim() === '') {
            err.classList.remove('hidden');
            company.classList.add('border-red-500');
            company.focus();
            return;
          }
        }
        if (current < 4) goTo(current + 1);
      });

      const companyInput = document.getElementById('company');
      if (companyInput) {
        companyInput.addEventListener('input', function () {
          const err = document.getElementById('err-company');
          if (this.value.trim() === '') {
            err.classList.remove('hidden');
            this.classList.add('border-red-500');
          } else {
            err.classList.add('hidden');
            this.classList.remove('border-red-500');
          }
        });
      }

      document.querySelectorAll('button[data-panel]').forEach((btn) => {
        btn.addEventListener('click', () => {
          const key = btn.getAttribute('data-panel');
          const body = document.querySelector('[data-body="' + key + '"]');
          if (!body) return;
          body.classList.toggle('hidden');
        });
      });

      const selectAll = document.getElementById('select-all');
      if (selectAll) {
        selectAll.addEventListener('change', function () {
          const checked = this.checked;
          document.querySelectorAll('.term').forEach((c) => (c.checked = checked));
        });
      }

      const hintToggle = document.getElementById('hint-toggle');
      const hintBody = document.getElementById('hint-body');
      if (hintToggle && hintBody) {
        hintToggle.addEventListener('click', () => {
          hintBody.style.display = hintBody.style.display === 'none' ? 'block' : 'none';
        });
      }

      const preview = document.getElementById('preview');
      let zoom = 100;
      const zoomIn = document.getElementById('zoom-in');
      const zoomOut = document.getElementById('zoom-out');
      if (zoomIn && zoomOut && preview) {
        zoomIn.addEventListener('click', () => {
          zoom += 10;
          preview.style.zoom = zoom + '%';
        });
        zoomOut.addEventListener('click', () => {
          zoom = Math.max(50, zoom - 10);
          preview.style.zoom = zoom + '%';
        });
      }

      goTo(1); // 进入页面默认打开步骤2：条款选择
    })();
  </script>
</body>
</html>

